flowchart TD
    subgraph Projeto["Projeto GCP (Project Factory)"]
        direction TB
        VPC["VPC customizada<br/>Rotas regionais"]
        subgraph Subnets["Sub-redes privadas"]
            S1["Subnet us-central1"]
            S2["Subnet us-east1"]
        end
        VPC --> S1
        VPC --> S2
        NAT["Cloud NAT"]
        VPC --> NAT
    end

    subgraph Cluster1["Cluster GKE 1<br/>us-central1-a"]
        N1["N&oacute;s privados<br/>Workload Identity"]
    end

    subgraph Cluster2["Cluster GKE 2<br/>us-east1-b"]
        N2["N&oacute;s privados<br/>Workload Identity"]
    end

    ASM["Anthos Service Mesh<br/>(GKE Hub + mTLS)"]
    Observabilidade["Logging / Monitoring / Prometheus"]

    S1 --> Cluster1
    S2 --> Cluster2
    Cluster1 --> ASM
    Cluster2 --> ASM
    ASM --> Observabilidade
